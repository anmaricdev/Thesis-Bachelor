<details style="border-radius: 5px; display: inline-block; max-width: 100%; width: 100%;">
    <summary style="cursor: pointer; font-size: 16px; display: inline-block; padding: 10px 15px; background-color: #ccc; border-radius: 5px;">Toggle Code</summary>
    <div style="background-color: #f0f0f0; border-radius: 5px; margin-top: 5px; padding: 10px; max-width: 100%; max-height: 50vh; width: fit-content; overflow: auto;">
<div class="highlight" style="background: #f0f0f0"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre style="line-height: 125%;">
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">  1</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">  2</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">  3</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">  4</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">  5</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">  6</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">  7</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">  8</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">  9</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 10</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 11</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 12</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 13</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 14</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 15</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 16</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 17</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 18</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 19</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 20</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 21</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 22</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 23</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 24</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 25</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 26</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 27</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 28</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 29</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 30</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 31</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 32</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 33</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 34</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 35</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 36</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 37</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 38</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 39</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 40</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 41</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 42</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 43</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 44</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 45</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 46</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 47</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 48</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 49</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 50</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 51</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 52</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 53</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 54</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 55</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 56</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 57</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 58</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 59</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 60</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 61</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 62</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 63</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 64</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 65</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 66</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 67</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 68</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 69</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 70</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 71</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 72</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 73</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 74</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 75</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 76</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 77</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 78</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 79</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 80</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 81</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 82</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 83</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 84</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 85</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 86</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 87</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 88</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 89</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 90</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 91</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 92</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 93</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 94</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 95</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 96</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 97</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 98</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 99</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">100</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">101</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">102</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">103</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">104</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">105</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">106</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">107</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">108</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">109</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">110</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">111</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">112</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">113</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">114</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">115</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">116</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">117</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">118</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">119</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">120</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">121</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">122</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">123</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">124</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">125</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">126</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">127</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">128</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">129</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">130</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">131</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">132</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">133</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">134</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">135</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">136</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">137</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">138</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">139</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">140</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">141</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">142</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">143</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">144</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">145</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">146</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">147</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">148</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">149</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">150</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">151</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">152</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">153</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">154</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">155</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">156</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">157</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">158</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">159</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">160</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">161</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">162</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">163</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">164</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">165</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">166</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">167</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">168</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">169</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">170</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">171</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">172</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">173</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">174</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">175</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">176</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">177</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">178</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">179</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">180</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">181</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">182</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">183</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">184</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">185</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">186</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">187</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">188</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">189</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">190</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">191</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">192</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">193</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">194</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">195</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">196</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">197</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">198</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">199</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">200</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">201</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">202</span>
<span style="color: #666666; background-color: transparent; padding-left: 5px; padding-right: 5px;">203</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><span style="color: #60a0b0; font-style: italic"># First Fit Algorithm #######################################</span>
<span style="color: #007020; font-weight: bold">def</span> <span style="color: #06287e">bin_packing_first_fit_var_capa</span>(bin_capacities, elements):
  is_packing_possible <span style="color: #666666">=</span> <span style="color: #007020; font-weight: bold">True</span>
  n <span style="color: #666666">=</span> <span style="color: #007020">len</span>(elements)
  m <span style="color: #666666">=</span> <span style="color: #007020">len</span>(bin_capacities)
  bins <span style="color: #666666">=</span> [[] <span style="color: #007020; font-weight: bold">for</span> _ <span style="color: #007020; font-weight: bold">in</span> <span style="color: #007020">range</span>(m)]
  bins_packed_after_failure <span style="color: #666666">=</span> [[] <span style="color: #007020; font-weight: bold">for</span> _ <span style="color: #007020; font-weight: bold">in</span> <span style="color: #007020">range</span>(m)]
  <span style="color: #007020; font-weight: bold">for</span> elem <span style="color: #007020; font-weight: bold">in</span> elements:
    i <span style="color: #666666">=</span> <span style="color: #40a070">0</span>
    found <span style="color: #666666">=</span> <span style="color: #007020; font-weight: bold">False</span>
    <span style="color: #007020; font-weight: bold">while</span> i <span style="color: #666666">&lt;</span> m <span style="color: #007020; font-weight: bold">and</span> <span style="color: #007020; font-weight: bold">not</span> found:
      <span style="color: #007020; font-weight: bold">if</span> <span style="color: #007020">sum</span>(bins[i]) <span style="color: #666666">+</span> elem <span style="color: #666666">&lt;=</span> bin_capacities[i]:
        found <span style="color: #666666">=</span> <span style="color: #007020; font-weight: bold">True</span>
      <span style="color: #007020; font-weight: bold">else</span>:
        i <span style="color: #666666">+=</span> <span style="color: #40a070">1</span>
    <span style="color: #007020; font-weight: bold">if</span> found:
      bins[i] <span style="color: #666666">+=</span> [elem]
      <span style="color: #007020; font-weight: bold">if</span> <span style="color: #007020; font-weight: bold">not</span> is_packing_possible:
        bins_packed_after_failure[i] <span style="color: #666666">+=</span> [elem]
    <span style="color: #007020; font-weight: bold">else</span>:
      is_packing_possible <span style="color: #666666">=</span> <span style="color: #007020; font-weight: bold">False</span>
  <span style="color: #007020; font-weight: bold">return</span> is_packing_possible, bins, bins_packed_after_failure


<span style="color: #007020; font-weight: bold">def</span> <span style="color: #06287e">bin_packing_first_fit_fixed_capa</span>(bin_capacity, m, elements):
  <span style="color: #007020; font-weight: bold">return</span> bin_packing_first_fit_var_capa([bin_capacity] <span style="color: #666666">*</span> m, elements)


<span style="color: #60a0b0; font-style: italic"># Next Fit Algorithm #######################################</span>
<span style="color: #007020; font-weight: bold">def</span> <span style="color: #06287e">bin_packing_next_fit_fixed_capa</span>(bin_capacity, m, elements):
  is_packing_possible <span style="color: #666666">=</span> <span style="color: #007020; font-weight: bold">True</span>
  n <span style="color: #666666">=</span> <span style="color: #007020">len</span>(elements)
  bins <span style="color: #666666">=</span> [[] <span style="color: #007020; font-weight: bold">for</span> _ <span style="color: #007020; font-weight: bold">in</span> <span style="color: #007020">range</span>(m)]
  bins_packed_after_failure <span style="color: #666666">=</span> [[] <span style="color: #007020; font-weight: bold">for</span> _ <span style="color: #007020; font-weight: bold">in</span> <span style="color: #007020">range</span>(m)]
  current_bin <span style="color: #666666">=</span> <span style="color: #40a070">0</span>
  <span style="color: #007020; font-weight: bold">for</span> elem <span style="color: #007020; font-weight: bold">in</span> elements:
    <span style="color: #007020; font-weight: bold">if</span> <span style="color: #007020">sum</span>(bins[current_bin]) <span style="color: #666666">+</span> elem <span style="color: #666666">&lt;=</span> bin_capacity:
      bins[current_bin] <span style="color: #666666">+=</span> [elem]
      <span style="color: #007020; font-weight: bold">if</span> <span style="color: #007020; font-weight: bold">not</span> is_packing_possible:
        bins_packed_after_failure[current_bin] <span style="color: #666666">+=</span> [elem]
    <span style="color: #007020; font-weight: bold">else</span>:
      current_bin <span style="color: #666666">+=</span> <span style="color: #40a070">1</span>
      <span style="color: #007020; font-weight: bold">if</span> current_bin <span style="color: #666666">&lt;</span> m <span style="color: #007020; font-weight: bold">and</span> \
         <span style="color: #007020">sum</span>(bins[current_bin]) <span style="color: #666666">+</span> elem <span style="color: #666666">&lt;=</span> bin_capacity:
        bins[current_bin] <span style="color: #666666">+=</span> [elem]
        <span style="color: #007020; font-weight: bold">if</span> <span style="color: #007020; font-weight: bold">not</span> is_packing_possible:
          bins_packed_after_failure[current_bin] <span style="color: #666666">+=</span> [elem]
      <span style="color: #007020; font-weight: bold">else</span>:
        is_packing_possible <span style="color: #666666">=</span> <span style="color: #007020; font-weight: bold">False</span>
  <span style="color: #007020; font-weight: bold">return</span> is_packing_possible, bins, bins_packed_after_failure


<span style="color: #007020; font-weight: bold">def</span> <span style="color: #06287e">bin_packing_next_fit_var_capa</span>(bin_capacities, elements):
  is_packing_possible <span style="color: #666666">=</span> <span style="color: #007020; font-weight: bold">True</span>
  n <span style="color: #666666">=</span> <span style="color: #007020">len</span>(elements)
  m <span style="color: #666666">=</span> <span style="color: #007020">len</span>(bin_capacities)
  bins <span style="color: #666666">=</span> [[] <span style="color: #007020; font-weight: bold">for</span> _ <span style="color: #007020; font-weight: bold">in</span> <span style="color: #007020">range</span>(m)]
  bins_packed_after_failure <span style="color: #666666">=</span> [[] <span style="color: #007020; font-weight: bold">for</span> _ <span style="color: #007020; font-weight: bold">in</span> <span style="color: #007020">range</span>(m)]
  current_bin <span style="color: #666666">=</span> <span style="color: #40a070">0</span>
  <span style="color: #007020; font-weight: bold">for</span> elem <span style="color: #007020; font-weight: bold">in</span> elements:
    <span style="color: #007020; font-weight: bold">while</span> current_bin <span style="color: #666666">&lt;</span> m <span style="color: #007020; font-weight: bold">and</span> \
            <span style="color: #007020">sum</span>(bins[current_bin]) <span style="color: #666666">+</span> elem <span style="color: #666666">&gt;</span> bin_capacities[current_bin]:
      current_bin <span style="color: #666666">+=</span> <span style="color: #40a070">1</span>
    <span style="color: #007020; font-weight: bold">if</span> current_bin <span style="color: #666666">&lt;</span> m:
      bins[current_bin] <span style="color: #666666">+=</span> [elem]
      <span style="color: #007020; font-weight: bold">if</span> <span style="color: #007020; font-weight: bold">not</span> is_packing_possible:
        bins_packed_after_failure[current_bin] <span style="color: #666666">+=</span> [elem]
    <span style="color: #007020; font-weight: bold">else</span>:
      is_packing_possible <span style="color: #666666">=</span> <span style="color: #007020; font-weight: bold">False</span>
  <span style="color: #007020; font-weight: bold">return</span> is_packing_possible, bins, bins_packed_after_failure


<span style="color: #60a0b0; font-style: italic"># Best Fit Algorithm #######################################</span>
<span style="color: #007020; font-weight: bold">def</span> <span style="color: #06287e">bin_packing_best_fit_fixed_capa</span>(bin_capacity, m, elements):
  is_packing_possible <span style="color: #666666">=</span> <span style="color: #007020; font-weight: bold">True</span>
  n <span style="color: #666666">=</span> <span style="color: #007020">len</span>(elements)
  bins <span style="color: #666666">=</span> [[] <span style="color: #007020; font-weight: bold">for</span> _ <span style="color: #007020; font-weight: bold">in</span> <span style="color: #007020">range</span>(m)]
  bins_in_use <span style="color: #666666">=</span> []
  bins_packed_after_failure <span style="color: #666666">=</span> [[] <span style="color: #007020; font-weight: bold">for</span> _ <span style="color: #007020; font-weight: bold">in</span> <span style="color: #007020">range</span>(m)]
  last_added_bin <span style="color: #666666">=</span> <span style="color: #666666">-</span><span style="color: #40a070">1</span>
  <span style="color: #007020; font-weight: bold">for</span> elem <span style="color: #007020; font-weight: bold">in</span> elements:
    <span style="color: #60a0b0; font-style: italic"># search for bin in use where it fits best</span>
    best_bin <span style="color: #666666">=</span> <span style="color: #666666">-</span><span style="color: #40a070">1</span>
    best_remaining_capacity <span style="color: #666666">=</span> bin_capacity
    <span style="color: #007020; font-weight: bold">for</span> b <span style="color: #007020; font-weight: bold">in</span> bins_in_use:
      remaining_capacity <span style="color: #666666">=</span> bin_capacity <span style="color: #666666">-</span> (<span style="color: #007020">sum</span>(bins[b]) <span style="color: #666666">+</span> elem)
      <span style="color: #007020; font-weight: bold">if</span> remaining_capacity <span style="color: #666666">&gt;=</span> <span style="color: #40a070">0</span> <span style="color: #007020; font-weight: bold">and</span> \
         remaining_capacity <span style="color: #666666">&lt;</span> best_remaining_capacity:
        best_bin <span style="color: #666666">=</span> b
        best_remaining_capacity <span style="color: #666666">=</span> remaining_capacity
    <span style="color: #60a0b0; font-style: italic"># if not found: add new bin, if possible</span>
    <span style="color: #007020; font-weight: bold">if</span> best_bin <span style="color: #666666">==</span> <span style="color: #666666">-</span><span style="color: #40a070">1</span> <span style="color: #007020; font-weight: bold">and</span> last_added_bin <span style="color: #666666">&lt;</span> m<span style="color: #666666">-</span><span style="color: #40a070">1</span>:
      last_added_bin <span style="color: #666666">+=</span> <span style="color: #40a070">1</span>
      bins_in_use <span style="color: #666666">+=</span> [last_added_bin]
      remaining_capacity <span style="color: #666666">=</span> bin_capacity <span style="color: #666666">-</span> elem
      <span style="color: #007020; font-weight: bold">if</span> remaining_capacity <span style="color: #666666">&gt;=</span> <span style="color: #40a070">0</span>:
        best_bin <span style="color: #666666">=</span> last_added_bin
        best_remaining_capacity <span style="color: #666666">=</span> remaining_capacity
    <span style="color: #60a0b0; font-style: italic"># found? - if not: new bin - does it fit there?</span>
    <span style="color: #007020; font-weight: bold">if</span> best_bin <span style="color: #666666">!=</span> <span style="color: #666666">-</span><span style="color: #40a070">1</span>:
      bins[best_bin] <span style="color: #666666">+=</span> [elem]
      <span style="color: #007020; font-weight: bold">if</span> <span style="color: #007020; font-weight: bold">not</span> is_packing_possible:
        bins_packed_after_failure[best_bin] <span style="color: #666666">+=</span> [elem]
      <span style="color: #60a0b0; font-style: italic"># is this bin full now?</span>
      <span style="color: #007020; font-weight: bold">if</span> best_remaining_capacity <span style="color: #666666">==</span> <span style="color: #40a070">0</span>:
        bins_in_use<span style="color: #666666">.</span>remove(best_bin)
    <span style="color: #007020; font-weight: bold">else</span>:
      is_packing_possible <span style="color: #666666">=</span> <span style="color: #007020; font-weight: bold">False</span>
  <span style="color: #007020; font-weight: bold">return</span> is_packing_possible, bins, bins_packed_after_failure


<span style="color: #007020; font-weight: bold">def</span> <span style="color: #06287e">bin_packing_best_fit_var_capa</span>(bin_capacities, elements):
  is_packing_possible <span style="color: #666666">=</span> <span style="color: #007020; font-weight: bold">True</span>
  n <span style="color: #666666">=</span> <span style="color: #007020">len</span>(elements)
  m <span style="color: #666666">=</span> <span style="color: #007020">len</span>(bin_capacities)
  max_capacity <span style="color: #666666">=</span> <span style="color: #007020">max</span>(bin_capacities)
  bins <span style="color: #666666">=</span> [[] <span style="color: #007020; font-weight: bold">for</span> _ <span style="color: #007020; font-weight: bold">in</span> <span style="color: #007020">range</span>(m)]
  bins_in_use <span style="color: #666666">=</span> [i <span style="color: #007020; font-weight: bold">for</span> i <span style="color: #007020; font-weight: bold">in</span> <span style="color: #007020">range</span>(m)]
  bins_packed_after_failure <span style="color: #666666">=</span> [[] <span style="color: #007020; font-weight: bold">for</span> _ <span style="color: #007020; font-weight: bold">in</span> <span style="color: #007020">range</span>(m)]
  <span style="color: #007020; font-weight: bold">for</span> elem <span style="color: #007020; font-weight: bold">in</span> elements:
    <span style="color: #60a0b0; font-style: italic"># search for bin in use where it fits best</span>
    best_bin <span style="color: #666666">=</span> <span style="color: #666666">-</span><span style="color: #40a070">1</span>
    best_remaining_capacity <span style="color: #666666">=</span> max_capacity <span style="color: #666666">+</span> <span style="color: #40a070">1</span>
    <span style="color: #007020; font-weight: bold">for</span> i <span style="color: #007020; font-weight: bold">in</span> <span style="color: #007020">range</span>(<span style="color: #007020">len</span>(bins_in_use)):
      remaining_capacity <span style="color: #666666">=</span> bin_capacities[bins_in_use[i]
                                          ] <span style="color: #666666">-</span> (<span style="color: #007020">sum</span>(bins[bins_in_use[i]]) <span style="color: #666666">+</span> elem)
      <span style="color: #007020; font-weight: bold">if</span> remaining_capacity <span style="color: #666666">&gt;=</span> <span style="color: #40a070">0</span> <span style="color: #007020; font-weight: bold">and</span> \
         remaining_capacity <span style="color: #666666">&lt;</span> best_remaining_capacity:
        best_bin <span style="color: #666666">=</span> bins_in_use[i]
        best_remaining_capacity <span style="color: #666666">=</span> remaining_capacity
    <span style="color: #60a0b0; font-style: italic"># found?</span>
    <span style="color: #007020; font-weight: bold">if</span> best_bin <span style="color: #666666">!=</span> <span style="color: #666666">-</span><span style="color: #40a070">1</span>:
      bins[best_bin] <span style="color: #666666">+=</span> [elem]
      <span style="color: #007020; font-weight: bold">if</span> <span style="color: #007020; font-weight: bold">not</span> is_packing_possible:
        bins_packed_after_failure[best_bin] <span style="color: #666666">+=</span> [elem]
      <span style="color: #60a0b0; font-style: italic"># is this bin full now?</span>
      <span style="color: #007020; font-weight: bold">if</span> best_remaining_capacity <span style="color: #666666">==</span> <span style="color: #40a070">0</span>:
        bins_in_use<span style="color: #666666">.</span>remove(best_bin)
    <span style="color: #007020; font-weight: bold">else</span>:
      is_packing_possible <span style="color: #666666">=</span> <span style="color: #007020; font-weight: bold">False</span>
  <span style="color: #007020; font-weight: bold">return</span> is_packing_possible, bins, bins_packed_after_failure


<span style="color: #60a0b0; font-style: italic"># Worst Fit Algorithm #######################################</span>
<span style="color: #007020; font-weight: bold">def</span> <span style="color: #06287e">bin_packing_worst_fit_fixed_capa</span>(bin_capacity, m, elements):
  is_packing_possible <span style="color: #666666">=</span> <span style="color: #007020; font-weight: bold">True</span>
  n <span style="color: #666666">=</span> <span style="color: #007020">len</span>(elements)
  bins <span style="color: #666666">=</span> [[] <span style="color: #007020; font-weight: bold">for</span> _ <span style="color: #007020; font-weight: bold">in</span> <span style="color: #007020">range</span>(m)]
  bins_in_use <span style="color: #666666">=</span> [i <span style="color: #007020; font-weight: bold">for</span> i <span style="color: #007020; font-weight: bold">in</span> <span style="color: #007020">range</span>(m)]
  bins_packed_after_failure <span style="color: #666666">=</span> [[] <span style="color: #007020; font-weight: bold">for</span> _ <span style="color: #007020; font-weight: bold">in</span> <span style="color: #007020">range</span>(m)]
  <span style="color: #007020; font-weight: bold">for</span> elem <span style="color: #007020; font-weight: bold">in</span> elements:
    <span style="color: #60a0b0; font-style: italic"># search for bin in use where it fits worst</span>
    worst_bin <span style="color: #666666">=</span> <span style="color: #666666">-</span><span style="color: #40a070">1</span>
    worst_remaining_capacity <span style="color: #666666">=</span> <span style="color: #666666">-</span><span style="color: #40a070">1</span>
    <span style="color: #007020; font-weight: bold">for</span> b <span style="color: #007020; font-weight: bold">in</span> bins_in_use:
      remaining_capacity <span style="color: #666666">=</span> bin_capacity <span style="color: #666666">-</span> (<span style="color: #007020">sum</span>(bins[b]) <span style="color: #666666">+</span> elem)
      <span style="color: #007020; font-weight: bold">if</span> remaining_capacity <span style="color: #666666">&gt;=</span> <span style="color: #40a070">0</span> <span style="color: #007020; font-weight: bold">and</span> \
         remaining_capacity <span style="color: #666666">&gt;</span> worst_remaining_capacity:
        worst_bin <span style="color: #666666">=</span> b
        worst_remaining_capacity <span style="color: #666666">=</span> remaining_capacity
    <span style="color: #60a0b0; font-style: italic"># found?</span>
    <span style="color: #007020; font-weight: bold">if</span> worst_bin <span style="color: #666666">!=</span> <span style="color: #666666">-</span><span style="color: #40a070">1</span>:
      bins[worst_bin] <span style="color: #666666">+=</span> [elem]
      <span style="color: #007020; font-weight: bold">if</span> <span style="color: #007020; font-weight: bold">not</span> is_packing_possible:
        bins_packed_after_failure[worst_bin] <span style="color: #666666">+=</span> [elem]
      <span style="color: #60a0b0; font-style: italic"># is this bin full now?</span>
      <span style="color: #007020; font-weight: bold">if</span> worst_remaining_capacity <span style="color: #666666">==</span> <span style="color: #40a070">0</span>:
        bins_in_use<span style="color: #666666">.</span>remove(worst_bin)
    <span style="color: #007020; font-weight: bold">else</span>:
      is_packing_possible <span style="color: #666666">=</span> <span style="color: #007020; font-weight: bold">False</span>
  <span style="color: #007020; font-weight: bold">return</span> is_packing_possible, bins, bins_packed_after_failure


<span style="color: #007020; font-weight: bold">def</span> <span style="color: #06287e">bin_packing_worst_fit_var_capa</span>(bin_capacities, elements):
  is_packing_possible <span style="color: #666666">=</span> <span style="color: #007020; font-weight: bold">True</span>
  n <span style="color: #666666">=</span> <span style="color: #007020">len</span>(elements)
  m <span style="color: #666666">=</span> <span style="color: #007020">len</span>(bin_capacities)
  max_capacity <span style="color: #666666">=</span> <span style="color: #007020">max</span>(bin_capacities)
  bins <span style="color: #666666">=</span> [[] <span style="color: #007020; font-weight: bold">for</span> _ <span style="color: #007020; font-weight: bold">in</span> <span style="color: #007020">range</span>(m)]
  bins_in_use <span style="color: #666666">=</span> [i <span style="color: #007020; font-weight: bold">for</span> i <span style="color: #007020; font-weight: bold">in</span> <span style="color: #007020">range</span>(m)]
  bins_packed_after_failure <span style="color: #666666">=</span> [[] <span style="color: #007020; font-weight: bold">for</span> _ <span style="color: #007020; font-weight: bold">in</span> <span style="color: #007020">range</span>(m)]
  <span style="color: #007020; font-weight: bold">for</span> elem <span style="color: #007020; font-weight: bold">in</span> elements:
    <span style="color: #60a0b0; font-style: italic"># search for bin in use where it fits worst</span>
    worst_bin <span style="color: #666666">=</span> <span style="color: #666666">-</span><span style="color: #40a070">1</span>
    worst_remaining_capacity <span style="color: #666666">=</span> <span style="color: #666666">-</span><span style="color: #40a070">1</span>
    <span style="color: #007020; font-weight: bold">for</span> i <span style="color: #007020; font-weight: bold">in</span> <span style="color: #007020">range</span>(<span style="color: #007020">len</span>(bins_in_use)):
      remaining_capacity <span style="color: #666666">=</span> bin_capacities[bins_in_use[i]
                                          ] <span style="color: #666666">-</span> (<span style="color: #007020">sum</span>(bins[bins_in_use[i]]) <span style="color: #666666">+</span> elem)
      <span style="color: #007020; font-weight: bold">if</span> remaining_capacity <span style="color: #666666">&gt;=</span> <span style="color: #40a070">0</span> <span style="color: #007020; font-weight: bold">and</span> \
         remaining_capacity <span style="color: #666666">&gt;</span> worst_remaining_capacity:
        worst_bin <span style="color: #666666">=</span> bins_in_use[i]
        worst_remaining_capacity <span style="color: #666666">=</span> remaining_capacity
    <span style="color: #60a0b0; font-style: italic"># found?</span>
    <span style="color: #007020; font-weight: bold">if</span> worst_bin <span style="color: #666666">!=</span> <span style="color: #666666">-</span><span style="color: #40a070">1</span>:
      bins[worst_bin] <span style="color: #666666">+=</span> [elem]
      <span style="color: #007020; font-weight: bold">if</span> <span style="color: #007020; font-weight: bold">not</span> is_packing_possible:
        bins_packed_after_failure[worst_bin] <span style="color: #666666">+=</span> [elem]
      <span style="color: #60a0b0; font-style: italic"># is this bin full now?</span>
      <span style="color: #007020; font-weight: bold">if</span> worst_remaining_capacity <span style="color: #666666">==</span> <span style="color: #40a070">0</span>:
        bins_in_use<span style="color: #666666">.</span>remove(worst_bin)
    <span style="color: #007020; font-weight: bold">else</span>:
      is_packing_possible <span style="color: #666666">=</span> <span style="color: #007020; font-weight: bold">False</span>
  <span style="color: #007020; font-weight: bold">return</span> is_packing_possible, bins, bins_packed_after_failure
</pre></div></td></tr></table></div>
    </div>
</details>